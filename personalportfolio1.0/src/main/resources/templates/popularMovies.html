<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>JSH | DEV : Joshua Harrison</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="../css/syles.css">
    <link rel="stylesheet" href="../css/bootswatch.min.css">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="../js/scripts.js"></script>
    <script src="https://kit.fontawesome.com/cc0caf5638.js" crossorigin="anonymous"></script>
  </head>
  <body>
	
	<nav class="navbar navbar-dark bg-primary justify-content-between">
	  <a class="navbar-brand" href="/">JSH | DEV</a>
	  <form class="form-inline">
	    <a href="https://github.com/jarshvader99" target="_blank"><i class="fab fa-github-alt fa-2x white" id="github-icon"></i></a>
	    <a href="https://www.linkedin.com/in/joshua-harrison/" target="_blank"><i class="fab fa-linkedin-in fa-2x white"></i></a>
	  </form>
	</nav>
	
<div class="container-fluid">
    <h1 class="mt-4">
    	<input class="center" type="text" id="search-bar" onkeyup="searchBar()" placeholder="Search for a title...">
    </h1>
    <div class="row">
        <div class="col-md-12 col-lg-6 center">
       		<div th:each="result : ${results}">
			  	<div class="card mb-6" style="margin-bottom:25px;">
	                <div class="card-header movie-titles">
	                	<span th:id="${result.id}" th:text="${result.title}">1</span>
	                </div>
	                <div class="card-body col-xl-12">
	                	<div><img th:src="'https://image.tmdb.org/t/p/w500'+ ${result.posterPath}" style="width:100%;"/></div>	
		                <div style="margin-top:5px;">
		                	<h3 th:text="${result.title}">1</h3>	
		                </div>
		                <div><span th:text="${result.overview}">1</span></div>
	                </div>
	                <div class="card-footer">
	                	<div style="float:left;">
<!-- 	                		<a th:class="'dislike-movie-' + ${result.id}" th:onclick="'javascript:dislikeMovie(' + ${result.id} + ');'"><i class="far fa-thumbs-down mr-1"></i></a>	                	 -->
	                	</div>
	                	<div style="float:right;">
<!-- 	                		<span style="margin-right:10px;"><i class="fas fa-plus"></i></span> -->
<!-- 	                		<a th:class="'like-movie-' + ${result.id}" th:onclick="'javascript:likeMovie(' + ${result.id} + ');'"><i th:id="'like-movie-thumb-' + ${result.id}" class="far fa-thumbs-up mr-1"></i></a> -->
	                	</div>
	                	<div class="clearfix"></div>
<!-- 	                	<span id="result-id" th:text="${result.id}"></span> -->
	                </div>
               	</div>
            </div>
        </div>
    </div>
    <div class='row'>
    	<div class="col-md-12" style="width:100%;text-align:center;">
	    	<a th:href="'/getPopular?page=' + ${popular.page - 1}" style="margin-right:5px;"><i class="fas fa-arrow-left"></i></a>
	    		<span th:text="${popular.page}">1</span>
	    			of 
	    		<span th:text="${popular.totalPages}">500</span>
	    	<a th:href="'/getPopular?page=' + ${popular.page + 1}"><i class="fas fa-arrow-right" style="margin-left:5px;"></i></a>
    	</div>
    </div>
</div>

<script th:inline="javascript">

var movie = /*[[${results}]]*/ 'default';

function searchBar() {
	
    var input = document.getElementById('search-bar').value 
    input=input.toLowerCase(); 
    var x = document.getElementsByClassName('movie-titles'); 
      
    for (i = 0; i < x.length; i++) {  
        if (!x[i].innerHTML.toLowerCase().includes(input)) { 
            x[i].style.display="none";
            x[i].parentElement.style.display = "none";
        } 
        else { 
            x[i].style.display="";
            x[i].parentElement.style.display = "";
        } 
    } 
}

</script>

